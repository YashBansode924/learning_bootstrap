!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="06867626-208b-4d8e-b7f2-02d646e01837",e._sentryDebugIdIdentifier="sentry-dbid-06867626-208b-4d8e-b7f2-02d646e01837")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7347],{64979:function(e,t,r){r.d(t,{$m:function(){return R},C0:function(){return y},EQ:function(){return _},F4:function(){return x},H$:function(){return v},IS:function(){return N},Iu:function(){return s},Kq:function(){return f},Nc:function(){return k},OI:function(){return c},PF:function(){return o},RJ:function(){return E},S3:function(){return l},Vj:function(){return m},W$:function(){return I},YT:function(){return u},Zq:function(){return z},Zv:function(){return b},_R:function(){return C},cm:function(){return n},e5:function(){return d},f3:function(){return w},os:function(){return a},p3:function(){return i},u4:function(){return h},vl:function(){return O},wK:function(){return g},wj:function(){return D},wy:function(){return p},xQ:function(){return T}}),r(12976).p;let n="download_after_removing_bg",o="copy_after_removing_bg",i="edit_after_removing_bg",a="ai_tool_removebg",l="ai_tool_expand",u="ai_tool_expand_after_download",c="ai_tool_expand_carousel",s="ai_tool_expand_removebg",d="ai_tool_expand_download_popover",_="ai_tool_retouch",f="ai_tool_retouch_download_popover",p="ai_tool_retouch_after_download",m="ai_tool_reimagine",g="ai_tool_reimagine_download_popover",w="ai_tool_reimagine_after_download",v="ai_tool_upscaler",b="ai_tool_replacebg",y="ai_tool_all",h="ai_tool_all_thumbnail",k="ai_tool_adjust",I="ai_tool_video",N="ai_tool_generate_style_ref",x="ai_tool_generate_prompt",R="ai_tool_assistant",E="edit_tools_onboarding_v2",O="edit_tools_onboarding",T=["replacebg","video","generatePrompt","styleReference"],z=["tint","grain","presets"],C=2e3,D=15},42997:function(e,t,r){r.d(t,{i:function(){return d}});var n=r(41937),o=r(65122),i=r(90312),a=r(85229),l=r(52983),u=r(65724),c=r(64979),s=r(35845);let d=e=>{let{tool:t,subOption:r,resourceData:c,checkoutQueryParams:d}=e,f=(0,n.I)(),p=(0,s.e)(t),m=(0,o.e)(),{setLoginCookies:g,signUpUrl:w}=(0,i.e)(),v=(0,u.W)(c.id),b=(null==c?void 0:c.premium)||!1,y=m||!b,{isUserWinback:h,showWinbackModal:k}=(0,a.l)();return(0,l.useCallback)(()=>h?(k(),!0):(!y||!p)&&(f&&y&&!_(t,r)?(g(),window.location.href=w):v({resourceData:{name:null==c?void 0:c.name,mediaUrl:c.preview.url,mediaWidth:c.preview.width,mediaHeight:c.preview.height,resourceType:"regular"},checkoutQueryParams:d}),!0),[h,y,p,f,t,r,v,null==c?void 0:c.name,c.preview.url,c.preview.width,c.preview.height,d,k,g,w])},_=(e,t)=>c.xQ.includes(e)||t&&c.Zq.includes(t)},35845:function(e,t,r){r.d(t,{C:function(){return d},e:function(){return c}});var n=r(11645),o=r(41937),i=r(2394),a=r(18444),l=r(8147),u=r(52983);let c=e=>d()(e),s={removebg:"freepik-tools-integration-remove-bg",retouch:"pikaso-edition",expand:"pikaso-edition",reimagine:"pikaso-reimagine",replacebg:"pikaso-bg-replacer",video:"pikaso-video-kling",generatePrompt:"pikaso-tti",styleReference:"pikaso-tti",assistant:"pikaso-edition"},d=()=>{let e=(0,l.H)(),t=(0,o.I)(),r=(0,a.w)(),c=(0,i.E)(),d=(0,n.u)(),_=null==e?void 0:e.permissions;return(0,u.useCallback)(e=>{let n=s[e];if(c)return!n||d(n);if(!_)return!1;let{canUseIA:o}=_,i=o&&!t,a=i&&!r;return({replacebg:i&&a,retouch:i,removebg:i,expand:i,reimagine:i,adjust:!t,video:i&&a,generatePrompt:i&&a,styleReference:i&&a,assistant:i,workflow:i})[e]},[c,_,t,r,d])}},33843:function(e,t,r){r.d(t,{BP:function(){return s},Us:function(){return o},Zq:function(){return u},bE:function(){return a},yS:function(){return _}});let n=["pixel-art","illustration","surreal","comic","fantasy","anime","digital-art","vintage","photo","all-styles"],o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.includes(e)},i=["1:1","1:2","2:1","2:3","3:4","4:5","9:16","3:2","4:3","16:9","custom"],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.includes(e)},l=["crop","light","color","tint","grain","rotate","presets"],u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l.includes(e)},c=["createSocialPost","createPoster","createFlyer","mixImages","applyPromo"],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return c.includes(e)},d=["remove","insert"],_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.includes(e)}},94608:function(e,t,r){r.d(t,{W:function(){return a}});var n=r(33843);let o={video:"ai_video_generator",adjust:"adjust",reimagine:"reimagine",expand:"expand",removebg:"background",retouch:"retouch",replacebg:"background",generatePrompt:"ai_image_generator",styleReference:"ai_image_generator",assistant:"assistant",workflow:"assistant"},i=(e,t)=>{if("removebg"===e)return"remove";if("replacebg"===e)return"replace";if("reimagine"===e&&(0,n.Us)(t))return"all-styles"===t?"style":"style__".concat(t);if("expand"===e&&(0,n.bE)(t))return"aspect_ratio__".concat(t);if("adjust"===e&&(0,n.Zq)(t)||"retouch"===e&&(0,n.yS)(t))return t;if("generatePrompt"===e)return"prompt__image_reference";if("styleReference"===e)return"style__image_reference";if("workflow"===e&&(0,n.BP)(t)){if("createSocialPost"===t)return"workflow__create_post";if("createPoster"===t)return"workflow__create_poster";if("createFlyer"===t)return"workflow__create_flyer";if("mixImages"===t)return"workflow__mix_images";if("applyPromo"===t)return"workflow__apply_promo";throw Error("Invalid subOption: ".concat(t))}return"ai_gen"},a=(e,t)=>({tool:o[e],eventName:i(e,t),businessLine:"ai_tools,content"})},52753:function(e,t,r){r.d(t,{d:function(){return n}});let n=(e,t,r)=>"resource_detail".concat(e?"":"_free","_").concat(null!=t?t:"ai_tools").concat(r?"_".concat(r):"")},15715:function(e,t,r){r.d(t,{H:function(){return o}});let n=e=>{let{resource:t,file:r,option:n,size:o,action:i,walletId:a,locale:l,modifier:u}=e,c=new URLSearchParams;return c.set("resource","".concat(t)),r&&n?(c.set("file",r),c.set("option","".concat(n))):o&&c.set("size","".concat(o)),i&&c.set("action",i),a&&c.set("walletId",a),c.set("locale",l),u&&c.set("modifier",u),c.toString()},o=async e=>{let t=n(e),r=await fetch("/api/regular/download?".concat(t));return r.ok?{success:!0,data:await r.json()}:429===r.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===r.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},15082:function(e,t,r){r.d(t,{i:function(){return C}});var n=r(72234),o=r(9324),i=r(68147),a=r(85229),l=r(87420),u=r(61158),c=r(52983),s=r(52240),d=r(35576),_=r(7526);let f=(e,t)=>t||("photo"===e?"jpg":"zip");var p=r(49737);r(97458);let m=(0,c.createContext)(null),g=()=>(0,c.useContext)(m)||{shouldTrackingLog:!0};var w=r(15715),v=r(32509),b=r(59916),y=r(72118),h=r(1850),k=r(64979),I=r(56879);let N=h.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",k.cm,k.PF,k.p3,k.EQ,k.Kq,k.Vj,k.wK,k.os,k.S3,k.H$,k.C0,k.u4,k.YT,k.OI,k.Iu,k.e5,k.f3,k.wy,k.Nc,k.Zv,k.W$,k.$m,k.F4,k.IS,"ai_tool_adjust_after_download","ai_tool_video_after_download"]),x=h.z.enum(["workflow_create_post","workflow_create_poster","workflow_create_flyer","workflow_mix_images","workflow_apply_promo"]);h.z.object({resource:h.z.coerce.number(),file:I.ru.optional(),option:h.z.coerce.number().optional(),size:h.z.coerce.number().optional(),action:N.optional(),modifier:x.optional(),walletId:h.z.string().nullable().optional(),locale:h.z.string()}),h.z.object({data:h.z.object({filename:h.z.string(),url:h.z.string(),prompt:h.z.string().optional(),signed_url:h.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...r}=e;return{...r,signedUrl:t}});let R=h.z.array(h.z.string()),E=new Date(new Date().getTime()+48e4),O=y.Z.withConverter({write:e=>e}),T=e=>{try{let t=O.get(e);if(!t)return[];return R.parse(JSON.parse(t))}catch(e){return[]}},z=()=>{let e=(0,i.I)(),t=(0,b.b)();return(0,c.useCallback)(r=>{if(!e)return;let n="".concat("ck_items_").concat(e),o=T(n),i="".concat(r);if(!o.includes(i)){let e=JSON.stringify([...o,i]);O.set(n,e,{path:"/",domain:t,expires:E})}},[e,t])},C=e=>{let{resource:t,file:r,action:m="download",modifier:b,location:y="resource_detail",option:h,size:k,showAttributionModal:I=!0,handleError:N,checkoutQueryParams:x,skipDownloadTracker:R=!1}=e,{id:E,name:O,author:T,premium:C,regularType:D,isAIGenerated:P,url:S}=t,[j,H]=(0,c.useState)(!1),{isUserWinback:U,showWinbackModal:W}=(0,a.l)(),{showAttribution:A}=(0,p.tc)(),F=z(),L=(0,v.b)({resource:t,location:y}),Z=(0,d.mS)(),{shouldTrackingLog:q}=g(),{showDeviceBlockedModal:K,isDeviceBlocked:$}=(0,o.qx)(),J=(0,n.Lh)(),Q=(0,i.I)(),B=(0,l.ZK)(),G=(0,s.TH)({file_extension:f(D,r),file_name:O,file_id:E,license:C?"premium":"free",resolution:k?_.w8[k]:"original",style:"na",author_name:T.name,category:P?"ai_image":D,action:"prompt"===m?"view_prompt":m,location:y,url_link:S}),M=(0,c.useCallback)(e=>{if(N){N(e);return}"prompt"!==m&&L(e,x)},[N,m,L,x]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if($){K();return}if(U){W();return}H(!0),J||u.uT("WARNING: User ".concat(Q," has no wallet_id"),"warning"),q&&!R&&Z({resourceId:E,isResourcePremium:C,resourceType:D,downloadType:m,fileType:D,variant:y});let n=await (0,w.H)({resource:E,size:k?2e3:void 0,action:m,modifier:b,file:r,option:h,walletId:J,locale:B});if(n.success)return I&&A&&A(),H(!1),F(E),G({externalUrl:null!=e?e:S,setting:t}),n.data;M(n),H(!1)},[$,U,J,q,R,E,k,m,b,r,h,B,M,K,W,Q,Z,C,D,y,I,A,F,G,S]),isDownloading:j}}},32509:function(e,t,r){r.d(t,{b:function(){return l}});var n=r(19170),o=r(10893),i=r(52983),a=r(65724);let l=e=>{var t;let{location:r,resource:l}=null!=e?e:{},{t:u}=(0,o.$G)("error"),{openToast:c}=(0,n.x_)(),s=(0,a.W)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:0,"",r);return(0,i.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&l){s({resourceData:{name:l.name,mediaUrl:l.preview.url,mediaWidth:l.preview.width,mediaHeight:l.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:u("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:u("unknown")})},[s,c,l,u])}},64237:function(e,t,r){r.d(t,{y:function(){return o}});var n=r(5704);let o=e=>{let{isEditableInMockup:t,isEditableInWepik:r}=e,o=(0,n.Jn)("type");return"illustration"===o?"illustration":t||"mockup"===o?"mockup":r||"template"===o?"template":void 0}},11645:function(e,t,r){r.d(t,{u:function(){return i}});var n=r(52983),o=r(8147);let i=()=>{let e=(0,o.H)();return(0,n.useCallback)(t=>{if(!e)return!0;try{let r=e.disabledPermissionsTools;if(!r)return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:"Disabled permissions tools not found"})),!0;return!(t in r)}catch(r){return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:r})),!0}},[e])}},2394:function(e,t,r){r.d(t,{E:function(){return o}});var n=r(8147);let o=()=>{let e=(0,n.H)();return!!(null==e?void 0:e.profile.isEnterprise)}}}]);